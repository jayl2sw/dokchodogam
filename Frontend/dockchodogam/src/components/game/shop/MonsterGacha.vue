<template>
  <div class="gacha">
    <div class="gacha__header">
      <h3>ë…ì´ˆëª¬ ë½‘ê¸°</h3>
    </div>
    <div class="gacha__body">
      <img class="gatcha__img" src="@/assets/tree.png" />
      <button @click="doubleCheck">ë½‘ê¸°</button>
    </div>
  </div>
</template>

<script>
import { mapGetters } from 'vuex'
import swal from 'sweetalert'
import Swal from 'sweetalert2'

export default {
  data() {
    return { userInfo: JSON.parse(localStorage.getItem('userInfo')) }
  },
  computed: {
    ...mapGetters(['userInfo'])
  },
  methods: {
    doubleCheck() {
      if (confirm('200ëƒ¥ì„ ë‚´ê³  ë½‘ê¸°ë¥¼ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?') === true) {
        if (this.userInfo.money >= 200) {
          this.$router.push({
            path: '/game/shop/gacha'
          })
        } else {
          swal({
            title: 'ë³´ìœ í•˜ì‹  ëƒ¥ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. ğŸ˜¢',
            text: 'ëƒ¥ì„ ëª¨ì•„ì„œ ë‹¤ì‹œ ë„ì „í•˜ì„¸ìš”!',
            icon: 'error',
            buttons: false,
            timer: 1500
          })
          return false
        }
      } else {
        return false
      }
    }
  }
}
</script>

<style scoped>
.gacha {
}
.gacha__header {
  text-align: center;
}

.gacha__body {
  display: flex;
  flex-direction: column;
}

.gatcha__img {
  width: 20vw;
  height: 30vh;
}
</style>
